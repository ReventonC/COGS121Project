<!--
    The html skeleton of the account page. Rendered by Vue.js. 
    Renders the users' information (e.g. user name, avatar, preferences, alergies) 
    (Note these are just used for display they don't have actual implement in the backend).   
    Can log out the account from here.
-->

<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Account</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="/css/style.min.css" />
    <link rel="stylesheet" href="/css/style.css" />
    <script src="/js/jquery-3.3.1.min.js"></script>
    <script src="/js/js-cookie.js"></script>
    <script src="/js/account.js"></script>
    <script src="/js/vue.js"></script>

</head>

<body>
    <header>
        <div id="brandBox">
            <img onclick="window.location='kitchen'" id="logo" src="/img/logo.png" alt="logo" style="width:50px;height:31px;" />
            <p id="appName">
                <span style="color: #43E97C">pan</span><span style="color: #3AF7CA">try</span>
            </p>
        </div>
        <div id="accountBox" onclick="window.location='account'">
            <p><span style="color: white">Hello,</span>
                <span id="accountBoxUserName">userName</span>
            </p>
            <img id="avatarImg" src="/img/avatar.png" alt="avatar" style="width:35px; height:35px" />
        </div>
    </header>

    <div class="content">
        <div id="accountSettings">
            <button class="backBtn" onclick="window.location='kitchen'">back</button>
            <div id="app">
                <h1>Account Settings</h1>
                <img id="avatarPic" src="/img/camera.png" style="width:100px; height:100px"/>
                <br></br>
                <h2>User Name</h2>
                <input v-model="userName">
                <br></br>
                <h2>Preferences</h2>
                <label>
                    Do not show me recipes that contain any of these ingredients:
                </label>
                <input v-model="newPreference" placeholder="Add preference" v-on:keyup.enter="addPreference(newPreference)"/>
                <img id="addBtn" src="/img/add.png" style="width:12px; height:12px"/>
                <ul v-if="isPEmpty()">
                    <li v-for="preference in preferenceList">
                        \{{preference}}
                        <i v-on:click="removePreference(preference)">
                          <img id="deleteBtn" src="/img/delete.png" style="width:12px; height:12px"/>
                        </i>
                    </li>
                </ul>
                <ul v-else>
                    <li>
                        No preference.
                    </li>
                </ul>
                <br>
                <h2>Allergies</h2>
                <label>
                    Warn me when a recipe contains one or more of the following ingredients:
                </label>
                <input v-model="newAlergy" placeholder="Add allergy" v-on:keyup.enter="addAlergy(newAlergy)" />
                <img id="addBtn" src="/img/add.png" style="width:12px; height:12px"/>
                <ul v-if="isAEmpty()">
                    <li v-for="alergy in alergyList">
                        \{{alergy}}
                        <i v-on:click="removeAlergy(alergy)">
                          <img id="deleteBtn" src="/img/delete.png" style="width:12px; height:12px"/>
                        </i>
                    </li>
                </ul>
                 <ul v-else>
                    <li>
                        No allergy.
                    </li>
                </ul>
                <br>
                <button id="updateBtn" v-on:click="updateInfo">Update Changes</button>
                <button id="logOutBtn" onclick="window.location='/'">Log out</button>
            </div>
        </div>
    </div>


</body>

</html>
